import{e as P,r as n,a as z,j as e,V as L,T as Pe,u as Se,b as Te,g as H,h as Re,S as me,i as Ie,R as Me,f as E}from"./index-CvmbJ5XI.js";import{c as Ae,B as g,G as Be,I as F,X as se,L as Je,F as He,M as je,S as pe,b as We,H as Ve,E as Ee,D as te,p as ae,q as re,r as le,J as ne,K as ce,o as ye}from"./validation-C5fkF-uh.js";import{h as Oe}from"./test3-W0YFbAfg.js";import{A as Fe,a as X,b as Q,c as Z,T as qe,S as ie,d as de,e as oe,f as xe,g as W,C as $e,u as Ye,I as _e,h as ze,L as Ue,i as fe,j as be,k as Ge,l as Ke,J as Xe,m as Y,n as De,v as Qe,o as Ze,P as es,p as ss,q as ts,r as as,B as rs,s as ls,t as ns,w as _,E as cs,x as is,y as ds,R as os,z as xs,D as ms}from"./ClientNav-DmKmfZGQ.js";import{f as hs,a as gs,g as us,D as M,b as B,c as J,d as C,B as Ne,e as ke,h as ee,U as G,S as we,L as ve,T as js,i as ps,j as ys,k as fs,l as bs,m as Ns,u as ks,n as ws,o as K,N as vs}from"./LineChart-vaU7gygu.js";import{b as Cs,d as Ss,e as Is,c as As,f as Es,l as Fs,a as _s,D as Ce,F as Ds}from"./card-BLiwYsGI.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Ps=Ae("ArrowUp",Ls);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rs=Ae("Plus",Ts),Ms="/IndieConnect-Frontend/assets/test2-Dz3_cDx4.png",Bs=()=>{const r=P(j=>j.user.name),[s,b]=n.useState(!1);n.useEffect(()=>{const j=()=>{b(window.scrollY>300)};return window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)},[]);const x=()=>{window.scrollTo({top:0,behavior:"smooth"})},u=z();return e.jsxs("div",{className:"min-h-screen dark:bg-gray-950",children:[e.jsx("div",{className:"flex justify-between items-center p-6 mt-16",children:e.jsxs("h1",{className:"text-2xl font-semibold",children:[e.jsx("span",{className:"text-black dark:text-white",children:"Welcome, "}),e.jsx("span",{className:`font-bold text-[#0077B6] 
                        dark:bg-gradient-to-r dark:from-emerald-400 dark:to-cyan-400 
                        dark:bg-clip-text dark:text-transparent`,children:r})]})}),e.jsxs("section",{className:"flex flex-col md:flex-row items-center justify-center px-6 py-16",children:[e.jsx("div",{className:"w-full md:w-1/2 flex justify-center",children:e.jsx("img",{src:Ms,alt:"Freelancer working",className:"w-3/4 max-w-[480px] h-auto"})}),e.jsxs("div",{className:"w-full md:w-1/2 text-center md:text-left px-4",children:[e.jsx("h2",{className:"text-4xl font-bold text-black dark:text-white",children:"Fire up your freelance career"}),e.jsx("p",{className:"mt-4 text-base text-gray-700 dark:text-gray-300",children:"Focus on your passion while Skillora connects you with top clients. Join our global network of skilled freelancers and work in a secure, hassle-free environment."}),e.jsx(g,{onClick:()=>u("/freelancer/jobs"),className:`bg-[#0077B6] hover:bg-[#005f8c] text-white px-4 py-2 rounded-lg mt-6
                   dark:bg-gradient-to-r dark:from-emerald-400 dark:to-cyan-400 dark:text-black`,children:"Start Now"})]})]}),e.jsx("section",{className:"bg-[#fbfbfb] dark:bg-gray-950 py-16 px-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-[#0077B6] dark:text-[#00FFE5]",children:"DO IT"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-md",children:"Showcase your expertise. Get verified and become a part of Skillora’s exclusive freelance community today."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-[#0077B6] dark:text-[#00FFE5]",children:"WORK IT"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-md",children:"Take on exciting projects through direct hires or explore opportunities in a competitive yet rewarding marketplace."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-[#0077B6] dark:text-[#00FFE5]",children:"EARN IT"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-md",children:"Boost your income with Skillora! Work with premium clients and get paid securely for your skills and dedication."})]})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h2",{className:"text-3xl font-bold text-black dark:text-white",children:"Start your dream job now. It's simple."}),e.jsx("img",{src:Oe,alt:"Start your dream job",className:"w-full max-w-xs md:max-w-none md:w-[550px] lg:w-[650px] xl:w-[600px] h-auto mt-12 mx-auto md:mx-0"})]})]})}),e.jsx("section",{children:e.jsxs("div",{className:"w-full px-4 max-w-[90%] sm:max-w-[80%] md:max-w-4xl mx-auto mt-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-black dark:text-white text-center mb-8",children:"Frequently Asked Questions"}),e.jsxs(Fe,{type:"single",collapsible:!0,children:[e.jsxs(X,{value:"item-1",children:[e.jsx(Q,{children:"How does Skillora ensure secure payments?"}),e.jsx(Z,{children:"Skillora uses a secure escrow system to hold payments until project milestones are met, ensuring safety for both freelancers and clients."})]}),e.jsxs(X,{value:"item-2",children:[e.jsx(Q,{children:"How can I find the right projects on Skillora?"}),e.jsx(Z,{children:"You can browse job listings, participate in contests, or get matched with clients based on your skills and expertise."})]}),e.jsxs(X,{value:"item-3",children:[e.jsx(Q,{children:"What support does Skillora provide for freelancers?"}),e.jsx(Z,{children:"Skillora offers dispute resolution, project management tools, and community support to help freelancers grow their careers."})]})]})]})}),s&&e.jsx("button",{onClick:x,className:"fixed bottom-6 right-6 bg-[#0077B6] dark:bg-[#00FFE5] hover:bg-[#005f8c] dark:hover:bg-[#00d4c0] text-white dark:text-black p-3 rounded-full shadow-md transition-opacity duration-300 opacity-100",children:e.jsx(Ps,{size:24})})]})};function Js(r){return Be({attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M15.529 2.857l-1.403-1.404c-0.565-0.566-1.555-0.566-2.122 0l-9.057 9.058-1.722 5.288 5.248-1.765 9.055-9.056c0.586-0.584 0.586-1.536 0.001-2.121zM3.094 13.294l0.645-1.979 1.934 1.935-1.963 0.66-0.616-0.616zM4.355 10.518l5.493-5.493 2.111 2.11-5.494 5.494-2.11-2.111zM10.555 4.317l0.729-0.729 2.111 2.11-0.729 0.729-2.111-2.11zM14.822 4.271l-0.72 0.72-2.111-2.11 0.72-0.721c0.189-0.189 0.518-0.189 0.707 0l1.403 1.404c0.196 0.196 0.196 0.512 0.001 0.707z"},child:[]}]})(r)}const Hs=({profile:r,onUpdate:s})=>{var $,he,ge,ue;const b=P(a=>a.user._id),[x,u]=n.useState({title:(r==null?void 0:r.title)||"",firstName:r==null?void 0:r.firstName,bio:(r==null?void 0:r.bio)||"",experienceLevel:(r==null?void 0:r.experienceLevel)||"",jobCategory:(($=r==null?void 0:r.jobCategory)==null?void 0:$._id)||"",skills:(r==null?void 0:r.skills)||[],education:(r==null?void 0:r.education)||{college:"",course:""},employmentHistory:(he=r==null?void 0:r.employmentHistory)!=null&&he.length?r.employmentHistory:[{company:"",position:"",duration:""}],linkedAccounts:(r==null?void 0:r.linkedAccounts)||{github:"",linkedIn:"",website:""},city:(r==null?void 0:r.city)||"",language:(r==null?void 0:r.language)||[]}),[j,t]=n.useState([]),[y,v]=n.useState([]),[S,N]=n.useState(((ge=x.skills)==null?void 0:ge.map(a=>a._id||""))||[]),[m,c]=n.useState(""),[h,i]=n.useState({}),[k,o]=n.useState(!1);n.useEffect(()=>{(async()=>{try{const[d,p]=await Promise.all([hs(),gs()]);t(d.data),v(p.data)}catch(d){console.error("Error fetching data:",d)}})()},[]);const I=a=>{const{name:d,value:p}=a.target;u(D=>({...D,[d]:p}))},A=(a,d)=>{u(p=>({...p,education:{...p.education,[d]:a.target.value}}))},O=()=>{u(a=>({...a,employmentHistory:[...a.employmentHistory,{company:"",position:"",duration:""}]}))},q=a=>{u(d=>{const p=d.employmentHistory.filter((D,V)=>V!==a);return{...d,employmentHistory:p}})},f=(a,d,p)=>{u(D=>{const V=[...D.employmentHistory];return V[a]={...V[a],[d]:p},{...D,employmentHistory:V}})},T=a=>{N(d=>{const p=d.includes(a)?d.filter(D=>D!==a):[...d,a];return u(D=>({...D,skills:p.map(V=>j.find(Le=>Le._id===V))})),p})},U=a=>{c(a.target.value)},l=()=>{m&&!x.language.includes(m)&&(u(a=>({...a,language:[...a.language,m]})),c(""))},w=a=>{u(d=>({...d,language:d.language.filter(p=>p!==a)}))},R=async a=>{a.preventDefault();const d=He(x);if(i(d),S.length===0)return L.error("Atleast select one skill");if(!x.jobCategory)return L.error("Select Job category");if(!(Object.keys(d).length>0))try{o(!0);const p=await Ye(b,x);L.success("Profile updted successfully"),s==null||s(p.data)}catch(p){console.error("Error updating profile:",p)}finally{o(!1)}};return e.jsxs(Cs,{className:"max-w-6xl mx-auto my-10 bg-white dark:bg-gray-950 rounded-lg border-none shadow-none",children:[e.jsx(Ss,{children:e.jsx(Is,{className:"text-lg font-bold text-center text-gray-900 dark:text-white",children:"Update Profile"})}),e.jsx(As,{children:e.jsxs("form",{onSubmit:R,className:"space-y-6 w-full",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),e.jsx(F,{type:"text",name:"firstName",value:x.firstName,onChange:I,className:"text-xs placeholder:text-xs"}),h.firstName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Title"}),e.jsx(F,{type:"text",name:"title",value:x.title,onChange:I,className:"text-xs placeholder:text-xs",placeholder:"Eg: Freelance web developer Passionate about building web applications..."}),h.title&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Bio"}),e.jsx(qe,{name:"bio",value:x.bio,onChange:I,className:"text-xs placeholder:text-xs mt-2",placeholder:"Eg: Tell us about yourself"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Experience Level"}),e.jsxs(ie,{value:x.experienceLevel,onValueChange:a=>u(d=>({...d,experienceLevel:a})),children:[e.jsx(de,{children:e.jsx(oe,{placeholder:"Select experience level"})}),e.jsxs(xe,{children:[e.jsx(W,{value:"Beginner",children:"Beginner"}),e.jsx(W,{value:"Intermediate",children:"Intermediate"}),e.jsx(W,{value:"Expert",children:"Expert"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Job Category *"}),e.jsxs(ie,{value:x.jobCategory,onValueChange:a=>u(d=>({...d,jobCategory:a})),children:[e.jsx(de,{children:e.jsx(oe,{children:((ue=y.find(a=>a._id===x.jobCategory))==null?void 0:ue.name)||"Select job category"})}),e.jsx(xe,{children:y.map(a=>e.jsx(W,{value:a._id,children:a.name},a._id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Skills *"}),e.jsx("div",{className:"border rounded-lg p-7 flex flex-wrap gap-5",children:j.map(a=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx($e,{id:a._id,checked:S.includes(a._id),onCheckedChange:()=>T(a._id),className:"w-4 h-4"}),e.jsx("label",{htmlFor:a._id,className:"text-gray-900 dark:text-white text-sm",children:a.name})]},a._id))}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:S.map(a=>{var d;return e.jsx("span",{className:"bg-emerald-600 text-white px-3 py-1 rounded-lg text-xs",children:(d=j.find(p=>p._id===a))==null?void 0:d.name},a)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Education"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(F,{className:"text-xs placeholder:text-xs",placeholder:"Eg: Cochin university",value:x.education.college,onChange:a=>A(a,"college")}),e.jsx(F,{className:"text-xs placeholder:text-xs",placeholder:"Course",value:x.education.course,onChange:a=>A(a,"course")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Employment History"}),e.jsxs("div",{className:"relative space-y-4 rounded-lg",children:[e.jsx("button",{type:"button",onClick:O,className:"absolute -top-8 right-0 dark:bg-gray-800 bg-[#186e9c] text-white p-2 rounded-lg hover:bg-[#005F8C]",children:e.jsx(Rs,{size:10})}),x.employmentHistory.map((a,d)=>e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center relative",children:[e.jsx(F,{className:"text-xs placeholder:text-xs",placeholder:"Company",value:a.company,onChange:p=>f(d,"company",p.target.value)}),e.jsx(F,{className:"text-xs placeholder:text-xs",placeholder:"Position",value:a.position,onChange:p=>f(d,"position",p.target.value)}),e.jsx(F,{className:"text-xs placeholder:text-xs",placeholder:"Year",value:a.duration,onChange:p=>f(d,"duration",p.target.value)}),d>0&&e.jsx("button",{type:"button",onClick:()=>q(d),className:"bg-red-500 text-white p-2 rounded-lg hover:bg-red-600",children:e.jsx(se,{size:10})})]},d))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"City *"}),e.jsx(F,{type:"text",name:"city",value:x.city,onChange:I})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Languages"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(F,{type:"text",value:m,onChange:U,className:"text-xs placeholder:text-xs",placeholder:"Type a language and press Add"}),e.jsx(g,{type:"button",onClick:l,className:"bg-[#186e9c] dark:bg-gray-800 dark:text-white hover:bg-[#005F8C] dark:hover:bg-gray-700",children:"Add"})]}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:x.language.map(a=>e.jsxs("span",{className:"bg-emerald-600 text-white px-3 py-1 rounded-md text-xs flex items-center",children:[a,e.jsx("button",{type:"button",onClick:()=>w(a),className:"ml-2 text-gray-300",children:"x"})]},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Social Links"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(F,{className:"text-xs placeholder:text-xs",placeholder:"GitHub",value:x.linkedAccounts.github,onChange:a=>u(d=>({...d,linkedAccounts:{...d.linkedAccounts,github:a.target.value}}))}),e.jsx(F,{className:"text-xs placeholder:text-xs",placeholder:"LinkedIn",value:x.linkedAccounts.linkedIn,onChange:a=>u(d=>({...d,linkedAccounts:{...d.linkedAccounts,linkedIn:a.target.value}}))}),e.jsx(F,{className:"text-xs placeholder:text-xs",placeholder:"Website",value:x.linkedAccounts.website,onChange:a=>u(d=>({...d,linkedAccounts:{...d.linkedAccounts,website:a.target.value}}))})]})]}),e.jsx(g,{type:"submit",className:"w-full bg-[#186e9c] dark:bg-gray-800 dark:text-white hover:bg-[#005F8C] dark:hover:bg-gray-700",children:k?e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"w-4 h-4 animate-spin"}),"Saving changes..."]}):"Save Profile"})]})})]})},Ws=()=>{var I,A,O,q,f,T,U;const r=P(l=>l.user.email),s=P(l=>l.user._id),[b,x]=n.useState(!1),[u,j]=n.useState(!1),[t,y]=n.useState(null),[v,S]=n.useState([]),[N,m]=n.useState(null),c=50,[h,i]=n.useState([]);n.useEffect(()=>{(async()=>{if(s)try{const w=await be(s);y(w.data)}catch(w){console.log("Error fetching profile :",w)}})()},[s]),n.useEffect(()=>{(async()=>{if(s)try{const w=await us(s);S(w.contracts||[])}catch(w){console.error("Error fetching completed works:",w)}})()},[s]),n.useEffect(()=>{(async()=>{try{const w=await Ge(s);i(w.data)}catch(w){console.error("Failed to fetch reviews",w)}})()},[s]);const k=l=>{y(l),x(!1)},o=async l=>{var R;const w=(R=l.target.files)==null?void 0:R[0];if(console.log("File selected :",w),!(!w||!s))try{j(!0),await Ke(s,w);const $=await be(s);y($.data),l.target.value=""}catch($){console.error("Error uploading image:",$)}finally{j(!1)}};return e.jsx("div",{className:"min-h-screen dark:bg-gray-950 flex justify-center p-6 mt-5",children:e.jsxs("div",{className:"w-full max-w-6xl bg-white dark:bg-gray-950 rounded-xl border border-gray-300 dark:border-gray-800 p-8 mt-16",children:[e.jsxs("div",{className:"relative flex flex-col md:flex-row justify-between items-center md:items-start",children:[e.jsx(g,{onClick:()=>x(!b),className:"absolute top-0 right-0 sm:hidden bg-transparent hover:bg-transparent active:bg-transparent focus:bg-transparent dark:text-white p-2 flex items-center gap-2",children:b?e.jsx("span",{className:"dark:text-white text-blue-700",children:"Cancel"}):e.jsx(Js,{className:"w-5 h-5 dark:text-white text-blue-700 bg-none shadow-none"})}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"relative group",children:u?e.jsx("div",{className:"w-28 h-28 rounded-full border border-gray-300 dark:border-gray-700 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#0077B6] dark:border-cyan-400"})}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:(t==null?void 0:t.profilePic)||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:"Profile",className:"w-28 aspect-square rounded-full border border-gray-300 dark:border-gray-700 object-cover"}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx("span",{className:"text-white text-sm font-medium cursor-pointer",onClick:()=>{var l;return(l=document.getElementById("fileInput"))==null?void 0:l.click()},children:"Edit"}),e.jsx("input",{type:"file",id:"fileInput",className:"hidden",accept:"image/png, image/jpeg, image/jpg, image/webp",onChange:l=>o(l)})]})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-black dark:bg-gradient-to-r dark:from-emerald-400 dark:to-cyan-400 dark:bg-clip-text dark:text-transparent",children:t==null?void 0:t.firstName}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 flex items-center gap-1 mt-2",children:[e.jsx(_e,{className:"text-xl"})," ",(t==null?void 0:t.city)||"No city provided"]})]})]}),e.jsx(g,{onClick:()=>x(!b),className:"mt-4 md:mt-0 hidden sm:block",children:b?"Cancel":"Edit Profile"})]}),e.jsx("hr",{className:"my-6 border-gray-300 dark:border-gray-900"}),b?e.jsx(Hs,{profile:t,onUpdate:k}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[0.8fr_auto_1.6fr] gap-6",children:[e.jsxs("div",{className:"space-y-7 text-black dark:text-white",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold font-sans",children:"Email"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold font-sans",children:"Education"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[(t==null?void 0:t.education.college)||"No education provided",","," ",t==null?void 0:t.education.course]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold font-sans",children:"Experience Level"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:(t==null?void 0:t.experienceLevel)||"No experience provided"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold font-sans",children:"Job category"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:((I=t==null?void 0:t.jobCategory)==null?void 0:I.name)||"No category provided"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold font-sans",children:"Languages"}),t!=null&&t.language&&t.language.length>0?t.language.map((l,w)=>e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l},w)):e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No languages specified"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold font-sans",children:"Linked Accounts"}),e.jsxs("div",{className:"flex flex-col gap-3 mt-2",children:[((A=t==null?void 0:t.linkedAccounts)==null?void 0:A.github)&&e.jsxs(g,{variant:"outline",className:"w-48 flex items-center justify-center gap-2",onClick:()=>window.open(t.linkedAccounts.github,"_blank"),children:[e.jsx(ze,{className:"w-6 h-6"}),"GitHub"]}),((O=t==null?void 0:t.linkedAccounts)==null?void 0:O.linkedIn)&&e.jsxs(g,{variant:"outline",className:"w-48 flex items-center justify-center gap-2",onClick:()=>window.open(t.linkedAccounts.linkedIn,"_blank"),children:[e.jsx(Es,{className:"w-6 h-6"}),"LinkedIn"]}),((q=t==null?void 0:t.linkedAccounts)==null?void 0:q.website)&&e.jsxs(g,{variant:"outline",className:"w-48 flex items-center justify-center gap-2",onClick:()=>window.open(t.linkedAccounts.website,"_blank"),children:[e.jsx(Ue,{className:"w-6 h-6"}),"Website"]}),!((f=t==null?void 0:t.linkedAccounts)!=null&&f.github)&&!((T=t==null?void 0:t.linkedAccounts)!=null&&T.linkedIn)&&!((U=t==null?void 0:t.linkedAccounts)!=null&&U.website)&&e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No social links provided"})]})]})]}),e.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-900"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:(t==null?void 0:t.title)||"No title provided"}),e.jsx("p",{className:"mt-8 text-gray-600 dark:text-gray-400",children:(t==null?void 0:t.bio)||"No bio provided"}),e.jsx("hr",{className:"my-6 border-gray-300 dark:border-gray-900"}),e.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mt-6",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-4 mt-3",children:t==null?void 0:t.skills.map(l=>e.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 px-4 py-2 rounded-3xl text-black dark:text-white font-semibold text-sm",children:l.name},l._id))})]})]}),e.jsx("hr",{className:"my-6 border-gray-300 dark:border-gray-900"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Employment History"}),e.jsx("div",{className:"space-y-6 mt-4 text-black dark:text-white",children:t!=null&&t.employmentHistory&&t.employmentHistory.length>0?t.employmentHistory.map((l,w)=>e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold font-sans",children:l.company}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l.position}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l.duration})]}),w<t.employmentHistory.length-1&&e.jsx("hr",{className:"border-gray-300 dark:border-gray-900 mt-6"})]},l._id||w)):e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No employment history provided"})})]}),e.jsxs("div",{className:"mt-10",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Completed Works (",v.length,")"]}),v.length===0?e.jsx("p",{className:"text-gray-500",children:"No completed works yet."}):e.jsx("div",{className:"space-y-4",children:v.map(l=>e.jsxs("div",{className:"p-4 border rounded-md shadow-sm bg-white dark:bg-gray-900",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary",children:l.jobId.title}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[N===l._id?l.jobId.description:`${l.jobId.description.slice(0,c)}${l.jobId.description.length>c?"...":""}`,l.jobId.description.length>c&&e.jsx("span",{onClick:()=>m(N===l._id?null:l._id),className:"ml-2 text-blue-500 cursor-pointer hover:underline text-xs",children:N===l._id?"View Less":"View More"})]}),e.jsxs("p",{className:"text-sm mt-1",children:[e.jsx("span",{className:"font-medium",children:"Client : "})," ",l.clientId.name," (",l.clientId.email,")"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Budget : "})," ₹",l.jobId.rate]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Work status : "}),l.status]})]},l._id))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Client Reviews"}),h.length===0?e.jsx("p",{className:"text-gray-500",children:"No reviews yet."}):e.jsx("div",{className:"space-y-6",children:h.map(l=>e.jsxs("div",{className:"border p-4 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("img",{src:"https://www.w3schools.com/howto/img_avatar.png",alt:l.clientId.name,className:"w-8 h-8 rounded-full"}),e.jsx("span",{className:"font-medium",children:l.clientId.name})]}),e.jsxs("div",{className:"flex gap-1 mb-1",children:[[...Array(5)].map((w,R)=>e.jsx(fe,{className:`w-4 h-4 ${R<Math.floor(l.rating)?"text-yellow-500":"text-gray-300"}`,fill:R<Math.floor(l.rating)?"#facc15":"none"},R)),l.rating%1!==0&&e.jsx(fe,{className:"w-4 h-4 text-yellow-400",fill:"url(#half)"})]}),e.jsx("p",{className:"text-sm dark:text-gray-300 text-gray-700",children:l.description}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(l.createdAt).toLocaleDateString()})]},l._id))})]})]})]})})},Vs=()=>e.jsx("div",{className:"min-h-screen dark:bg-gray-950 flex flex-col items-center mt-14",children:e.jsx("div",{className:"w-full max-w-6xl px-6 mt-6",children:e.jsx(Xe,{})})}),Os=()=>{const r=n.useContext(Pe);if(!r)return null;const{theme:s,toggleTheme:b}=r,x=P(o=>o.user.name),u=P(o=>o.user.role),j=P(o=>o.user._id),[t,y]=n.useState(!1),[v,S]=n.useState([]),N=Se(),m=Te(),c=z(),h=async()=>{try{await Ve(),m(Re()),c("/")}catch(o){console.error("Logout failed:",o)}};n.useEffect(()=>{y(!1)},[N.pathname]),n.useEffect(()=>{y(!1)},[N.pathname]),n.useEffect(()=>{if(j)return H.emit("getNotifications",j),H.on("notifications",o=>{S(o)}),H.on("newNotification",()=>{H.emit("getNotifications",j)}),()=>{H.off("notifications"),H.off("newNotification")}},[j]);const i=o=>{H.emit("markNotificationAsRead",o),S(I=>I.map(A=>A._id===o?{...A,read:!0}:A))},k=v.filter(o=>!o.read).length;return e.jsxs(e.Fragment,{children:[e.jsxs("nav",{className:"fixed top-0 left-0 w-full flex justify-between items-center px-6 py-4 bg-gray-50 dark:bg-gray-900 border-b border-gray-300 dark:border-gray-800 z-50",children:[e.jsx("div",{children:e.jsx("img",{src:s==="dark"?Fs:_s,alt:"Brand Logo",className:"h-9",onClick:()=>c("/freelancer/home")})}),e.jsxs("div",{className:"hidden lg:flex gap-6 text-gray-900 dark:text-gray-50",children:[e.jsx(g,{variant:"ghost",onClick:()=>c("/freelancer/home"),className:N.pathname==="/freelancer/home"?"text-[#0077B6] dark:bg-gradient-to-r dark:from-emerald-400 dark:to-cyan-400 dark:bg-clip-text dark:text-transparent":"",children:"Home"}),e.jsxs(M,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(g,{variant:"ghost",className:"flex items-center gap-2",children:["Find Work ",e.jsx(Y,{className:"w-4 h-4"})]})}),e.jsxs(J,{align:"start",className:"w-40 bg-white dark:bg-gray-900 shadow-lg rounded-md p-2",children:[e.jsx(C,{onSelect:()=>c("/freelancer/jobs"),className:"hover:bg-gray-100 dark:hover:bg-gray-800 p-2 rounded-md cursor-pointer text-gray-900 dark:text-gray-50",children:"Find Work"}),e.jsx(C,{className:"hover:bg-gray-100 dark:hover:bg-gray-800 p-2 rounded-md cursor-pointer text-gray-900 dark:text-gray-50",children:"Saved Work"})]})]}),e.jsxs(M,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(g,{variant:"ghost",className:"flex items-center gap-2",children:["Deliver Work ",e.jsx(Y,{className:"w-4 h-4"})]})}),e.jsxs(J,{align:"start",className:"w-40 bg-white dark:bg-gray-900 shadow-lg rounded-md p-2",children:[e.jsx(C,{onSelect:()=>c("/freelancer/jobs/applied-jobs"),className:"hover:bg-gray-100 dark:hover:bg-gray-800 p-2 rounded-md cursor-pointer",children:"Applied Works"}),e.jsx(C,{onSelect:()=>c("/freelancer/contracts"),className:"hover:bg-gray-100 dark:hover:bg-gray-800 p-2 rounded-md cursor-pointer",children:"Active Contract"})]})]}),e.jsx(g,{onClick:()=>c("/freelancer/messages"),variant:"ghost",className:N.pathname==="/freelancer/messages"?"text-[#0077B6] dark:bg-gradient-to-r dark:from-emerald-400 dark:to-cyan-400 dark:bg-clip-text dark:text-transparent":"",children:"Messages"})]}),e.jsxs("div",{className:"hidden lg:flex gap-4 items-center",children:[e.jsxs(M,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(g,{variant:"ghost",className:"relative",children:[e.jsx(Ne,{className:"w-5 h-5"}),k>0&&e.jsx("div",{className:"absolute -top-1 -right-0.5 min-w-[16px] h-[16px] bg-red-500 text-white text-[10px] flex items-center justify-center rounded-full",children:k})]})}),e.jsxs(J,{className:"w-80 max-h-96 overflow-y-auto",children:[e.jsx(ke,{children:"Notifications"}),v.length===0?e.jsx(C,{className:"text-sm text-muted-foreground",children:"No notifications"}):v.map(o=>e.jsxs(C,{onClick:()=>{i(o._id),c("/freelancer/contracts")},className:`text-sm cursor-pointer flex flex-col ${o.read?"text-gray-400":"font-semibold"}`,children:[e.jsx("span",{children:o.message}),e.jsx("span",{className:"text-xs text-muted-foreground self-end mt-1",children:ee(o.createdAt).format("DD MMM, hh:mm A")})]},o._id))]})]}),e.jsx(g,{variant:"ghost",onClick:b,children:s==="light"?e.jsx(je,{className:"w-5 h-5"}):e.jsx(pe,{className:"w-5 h-5 text-orange-400"})}),e.jsxs(M,{children:[e.jsx(B,{asChild:!0,children:e.jsx(g,{variant:"ghost",className:"flex items-center gap-2",children:e.jsx(G,{className:"w-5 h-5"})})}),e.jsxs(J,{align:"end",className:"w-48 bg-white dark:bg-gray-900 shadow-lg rounded-md p-2",children:[e.jsx("div",{className:"flex items-center gap-3 p-3 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",onClick:()=>c("/freelancer/profile"),children:x}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:u})]})}),e.jsxs(C,{onClick:()=>c("/freelancer/profile"),children:[e.jsx(G,{className:"w-4 h-4 mr-2"})," Profile"]}),e.jsxs(C,{onClick:()=>c("/freelancer/earnings"),children:[e.jsx(Ce,{className:"w-4 h-4 mr-2"})," Earnings"]}),e.jsxs(C,{onClick:()=>c("/freelancer/profile-settings"),children:[e.jsx(we,{className:"w-4 h-4 mr-2"})," Profile Settings"]}),e.jsxs(C,{onClick:h,className:"text-red-500",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"})," Logout"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 lg:hidden",children:[e.jsxs(M,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(g,{variant:"ghost",className:"relative",children:[e.jsx(Ne,{className:"w-5 h-5"}),k>0&&e.jsx("div",{className:"absolute -top-1 -right-0.5 min-w-[16px] h-[16px] bg-red-500 text-white text-[10px] flex items-center justify-center rounded-full",children:k})]})}),e.jsxs(J,{className:"w-80 max-h-96 overflow-y-auto",children:[e.jsx(ke,{children:"Notifications"}),v.length===0?e.jsx(C,{className:"text-sm text-muted-foreground",children:"No notifications"}):v.map(o=>e.jsxs(C,{onClick:()=>{i(o._id),c("/freelancer/contracts")},className:`text-sm cursor-pointer flex flex-col ${o.read?"text-gray-400":"font-semibold"}`,children:[e.jsx("span",{children:o.message}),e.jsx("span",{className:"text-xs text-muted-foreground self-end mt-1",children:ee(o.createdAt).format("DD MMM, hh:mm A")})]},o._id))]})]}),e.jsx(g,{variant:"ghost",className:"lg:hidden",onClick:()=>y(!0),children:e.jsx(We,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:`fixed inset-0 bg-black/50 z-50 transition-opacity duration-300 ${t?"opacity-100 visible":"opacity-0 invisible"}`,onClick:()=>y(!1)}),e.jsxs("div",{className:`fixed top-0 left-0 h-full w-64 bg-white dark:bg-gray-900 shadow-lg transform transition-transform duration-300 z-50 p-6 flex flex-col gap-4 ${t?"translate-x-0":"-translate-x-full"}`,children:[e.jsx(g,{variant:"ghost",className:"self-end",onClick:()=>y(!1),children:e.jsx(se,{className:"w-6 h-6"})}),e.jsx(g,{variant:"ghost",children:"Home"}),e.jsxs(M,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(g,{variant:"ghost",className:"flex items-center gap-2",children:["Find Work ",e.jsx(Y,{className:"w-4 h-4"})]})}),e.jsxs(J,{align:"start",className:"w-40 bg-white dark:bg-gray-900 shadow-lg rounded-md p-2",children:[e.jsx(C,{onSelect:()=>c("/freelancer/jobs"),children:"Find Work"}),e.jsx(C,{children:"Saved Jobs"})]})]}),e.jsxs(M,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(g,{variant:"ghost",className:"flex items-center gap-2",children:["Deliver Work ",e.jsx(Y,{className:"w-4 h-4"})]})}),e.jsxs(J,{align:"start",className:"w-40 bg-white dark:bg-gray-900 shadow-lg rounded-md p-2",children:[e.jsx(C,{onSelect:()=>c("/freelancer/jobs/applied-jobs"),children:"Applied Work"}),e.jsx(C,{onSelect:()=>c("/freelancer/contracts"),children:"Active Contract"})]})]}),e.jsx(g,{onClick:()=>c("/freelancer/messages"),variant:"ghost",children:"Messages"}),e.jsx(g,{variant:"ghost",onClick:b,children:s==="light"?e.jsx(je,{className:"w-5 h-5"}):e.jsx(pe,{className:"w-5 h-5"})}),e.jsxs(M,{children:[e.jsx(B,{asChild:!0,children:e.jsx(g,{variant:"ghost",className:"flex items-center gap-2",children:e.jsx(G,{className:"w-5 h-5"})})}),e.jsxs(J,{align:"end",className:"w-48 bg-white dark:bg-gray-900 shadow-lg rounded-md p-2",children:[e.jsx("div",{className:"flex items-center gap-3 p-3 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:x}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:u})]})}),e.jsxs(C,{onClick:()=>c("/freelancer/profile"),children:[e.jsx(G,{className:"w-4 h-4 mr-2"})," Profile"]}),e.jsxs(C,{onClick:()=>c("/freelancer/earnings"),children:[e.jsx(Ce,{className:"w-4 h-4 mr-2"})," Earnings"]}),e.jsxs(C,{onClick:()=>c("/freelancer/profile-settings"),children:[e.jsx(we,{className:"w-4 h-4 mr-2"})," Profile Settings"]}),e.jsxs(C,{onClick:h,className:"text-red-500",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"})," Logout"]})]})]})]})]})},qs=()=>{const r=P(i=>i.user._id),[s,b]=n.useState([]),[x,u]=n.useState(5),[j,t]=n.useState(!0),[y,v]=n.useState(""),[S,N]=n.useState(null),m=z();n.useEffect(()=>{(async()=>{try{const o=((await Qe()).applications||[]).sort((I,A)=>new Date(A.createdAt).getTime()-new Date(I.createdAt).getTime());b(o)}catch(k){console.error("Failed to fetch applications:",k)}finally{t(!1)}})()},[r]);const c=s.filter(i=>{var k,o;return(o=(k=i.jobId)==null?void 0:k.title)==null?void 0:o.toLowerCase().includes(y.toLowerCase())}),h=async i=>{try{await Ze(i),b(k=>k.filter(o=>o._id!==i)),L.success("Job application canceled successfully!")}catch(k){console.error("Failed to cancel job application:",k)}finally{N(null)}};return j?e.jsx("div",{className:"flex justify-center items-center min-h-[calc(100vh-4rem)]",children:e.jsx(me,{})}):e.jsx("div",{className:"min-h-screen dark:bg-gray-950 flex flex-col items-center mt-20",children:e.jsxs("div",{className:"w-full max-w-6xl px-6 mt-10",children:[e.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-3",children:[e.jsx("h2",{className:"text-xl font-semibold mt-2",children:"Applied Jobs"}),e.jsxs("div",{className:"w-full sm:w-72 md:w-96 lg:max-w-[600px] relative",children:[e.jsx("input",{type:"text",placeholder:"Search applied jobs...",className:`w-full border p-2.5 pl-3 pr-8 rounded-lg text-sm dark:bg-gray-950 dark:text-white 
                            focus:outline-none focus:ring-1 focus:ring-gray-400 dark:focus:ring-gray-600`,value:y,onChange:i=>v(i.target.value)}),y&&e.jsx(se,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500 cursor-pointer hover:text-gray-700",onClick:()=>v("")})]})]}),c.length>0?e.jsxs("div",{className:"flex flex-col gap-5 mt-9",children:[c.slice(0,x).map(i=>e.jsxs("div",{className:"border rounded-lg p-5 bg-white dark:bg-gray-950 hover:bg-gray-50 dark:hover:bg-black transition duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h5",{className:"font-semibold",children:i.jobId.title}),e.jsx(js,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ee,{onClick:()=>m(`/freelancer/job/view-job/${i.jobId._id}`),className:"text-gray-500 cursor-pointer hover:text-gray-900 dark:hover:text-gray-300 w-5 h-5"}),e.jsxs(ps,{children:[e.jsx(ys,{asChild:!0,children:e.jsx(De,{className:"text-red-500 cursor-pointer hover:text-red-600 w-5 h-5",onClick:()=>N(i._id)})}),e.jsx(fs,{children:e.jsx("p",{children:"Cancel Application"})})]}),e.jsx(te,{open:S===i._id,onOpenChange:k=>!k&&N(null),children:e.jsxs(ae,{className:"max-w-[90%] sm:max-w-md rounded-lg p-6",children:[e.jsxs(re,{children:[e.jsx(le,{className:"text-lg font-semibold",children:"Cancel Application"}),e.jsx(ne,{children:"Are you sure you want to cancel this application? This action cannot be undone."})]}),e.jsxs(ce,{className:"flex flex-col sm:flex-row justify-between mt-4 sm:space-x-2",children:[e.jsx(g,{variant:"outline",className:"w-full sm:w-auto mb-2 sm:mb-0",onClick:()=>N(null),children:"No, Keep It"}),e.jsx(g,{variant:"destructive",className:"w-full sm:w-auto",onClick:()=>h(i._id),children:"Yes, Cancel"})]})]})})]})})]}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-400 mt-1",children:[i.jobId.description.slice(0,100),"..."]}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-400 mt-1",children:["Budget: ₹",i.jobId.rate]}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-400 mt-1",children:["Experience Level: ",i.jobId.experienceLevel]}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-400 mt-1",children:["Status: ",i.status]})]},i._id)),x<c.length&&e.jsxs("p",{onClick:()=>u(i=>i+5),className:`mt-4 text-blue-950 px-4 py-2 flex items-center gap-2
                                dark:bg-transparent dark:text-[#00FFE5] self-center cursor-pointer`,children:["View More",e.jsx(Y,{className:"w-4 h-4"})]})]}):e.jsx("div",{className:"p-10 mt-4 flex flex-col items-center text-center bg-white dark:bg-gray-950",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-400 mt-4",children:"No applications found."})})]})})},$s=()=>{const r=P(m=>m.user._id),[s,b]=n.useState([]),[x,u]=n.useState(5),[j,t]=n.useState(!0),[y,v]=n.useState(""),S=z();n.useEffect(()=>{(async()=>{try{const c=await bs(r);b(c.contracts)}catch(c){console.error("Failed to fetch contracts:",c)}finally{t(!1)}})()},[r]);const N=s.filter(m=>{var c,h;return(h=(c=m.jobId)==null?void 0:c.title)==null?void 0:h.toLowerCase().includes(y.toLowerCase())});return j?e.jsx("div",{className:"flex justify-center items-center min-h-[calc(100vh-4rem)]",children:e.jsx(me,{})}):e.jsx("div",{className:"min-h-screen dark:bg-gray-950 flex flex-col items-center mt-20",children:e.jsxs("div",{className:"w-full max-w-6xl px-6 mt-10",children:[e.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-3",children:[e.jsx("h2",{className:"text-xl font-semibold mt-2",children:"Contracts"}),e.jsxs("div",{className:"w-full sm:w-72 md:w-96 lg:max-w-[600px] relative",children:[e.jsx("input",{type:"text",placeholder:"Search contracts...",className:`w-full border p-2.5 pl-3 pr-8 rounded-lg text-sm dark:bg-gray-950 dark:text-white 
                            focus:outline-none focus:ring-1 focus:ring-gray-400 dark:focus:ring-gray-600`,value:y,onChange:m=>v(m.target.value)}),y&&e.jsx(se,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500 cursor-pointer hover:text-gray-700",onClick:()=>v("")})]})]}),N.length>0?e.jsxs("div",{className:"flex flex-col gap-5 mt-9",children:[N.slice(0,x).map(m=>e.jsxs("div",{className:"border rounded-lg p-5 bg-gray-100 dark:bg-gray-900 hover:bg-white dark:hover:bg-gray-950 transition duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h5",{className:"font-semibold",children:m.jobId.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"text-gray-500 cursor-pointer hover:text-gray-700 w-5 h-5",onClick:()=>S(`/freelancer/contract/${m._id}`)}),!m.isApproved&&e.jsx("span",{className:"text-xs bg-red-500 text-white px-2 py-0.5 rounded-full",children:"New"})]})]}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-400 mt-1",children:["Budget: ₹",m.amount]}),e.jsxs("p",{className:"text-sm mt-1 text-gray-700 dark:text-gray-400",children:["Contract:"," ",e.jsx("span",{className:m.status==="Canceled"?"text-red-600 dark:text-red-400":m.status==="Completed"?"text-green-600 dark:text-green-500":"text-gray-700 dark:text-gray-400",children:m.status})]}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-400 mt-1",children:["Client: ",m.clientId.name]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 font-medium",children:["Contract ID: ",m.contractId]})]},m._id)),x<N.length&&e.jsx(g,{onClick:()=>u(m=>m+5),className:"mt-4 bg-[#0077B6] hover:bg-[#005f8c] text-white px-4 py-2 rounded-lg",children:"View More"})]}):e.jsx("div",{className:"p-10 mt-4 flex flex-col items-center text-center bg-white dark:bg-gray-950",children:e.jsx("p",{className:"text-gray-600 mt-4",children:"No contracts found."})})]})})},Ys=()=>{const{id:r}=Ie(),[s,b]=n.useState(null),[x,u]=n.useState(!0),[j,t]=n.useState(!1),[y,v]=n.useState(""),[S,N]=n.useState(!1),[m,c]=n.useState(!1),[h,i]=n.useState(!1),k=z(),o=async()=>{if(!r){u(!1);return}try{const f=await Ns(r);b(f.contract),t(f.contract.isApproved),v(f.contract.status)}catch(f){console.error("Failed to fetch contract details:",f)}finally{u(!1)}},I=async()=>{if(s)try{await ws(s._id,s.freelancerId._id),L.success("Contract accepted!"),t(!0),c(!1),H.emit("addNotification",{userId:s.clientId,message:`Freelancer ${s.freelancerId.name} has accepted the contract ${s._id}`,role:"client",type:"approved"})}catch(f){console.error(f)}},A=()=>{I(),c(!1)},O=async()=>{if(s!=null&&s._id)try{const f=await ts(s._id);L.success(f.message),setTimeout(()=>{k("/freelancer/contracts")},2e3),b(null)}catch(f){L.error(f.error)}};n.useEffect(()=>{o()},[r]);const q=async f=>{if(s!=null&&s._id){N(!0);try{const T=await ks(s._id,f);L.success(T.message),v(f),o()}catch(T){L.error(T.error||"Failed to update work status")}finally{N(!1)}}};return x?e.jsx("div",{className:"flex justify-center items-center min-h-[calc(100vh-4rem)]",children:e.jsx(me,{})}):!s||!r?e.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen text-center",children:[e.jsx(De,{className:"w-16 h-16 text-gray-400 dark:text-gray-600"}),e.jsx("p",{className:"mt-4 text-lg font-semibold text-gray-600 dark:text-gray-400",children:"Contract not found."})]}):e.jsx("div",{className:"p-5 mt-16 max-w-6xl mx-auto",children:e.jsxs("div",{className:"rounded-lg p-6 bg-white dark:bg-gray-950",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-center mb-6",children:"Skillora Contract"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-base text-gray-800 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium text-gray-950 dark:text-gray-200",children:"Contract ID:"})," ",s.contractId]}),e.jsxs("p",{className:`text-base dark:text-gray-400 ${s.status==="Canceled"?"text-red-600 dark:text-red-500 font-semibold":"text-gray-800"}`,children:[e.jsx("span",{className:"font-medium text-gray-950 dark:text-gray-200",children:"Status:"})," ",y]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-lg font-semibold border-b pb-2",children:"Parties Involved"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-medium font-semibold dark:text-teal-500 text-cyan-700",children:"Freelancer"}),e.jsxs("p",{className:"text-base text-gray-800 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Name:"})," ",s.freelancerId.name]}),e.jsxs("p",{className:"text-base text-gray-800 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Email:"})," ",s.freelancerId.email]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-base font-semibold dark:text-teal-500 text-cyan-800",children:"Client"}),e.jsxs("p",{className:"text-base text-gray-800 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Name:"})," ",s.clientId.name]}),e.jsxs("p",{className:"text-base text-gray-800 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Email:"})," ",s.clientId.email]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold border-b pb-2",children:"Job Details"}),e.jsxs("p",{className:"text-base text-gray-800 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Title:"})," ",s.jobId.title]}),e.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Description:"})," ",s.jobId.description]}),e.jsxs("p",{className:"text-base text-gray-800 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Rate:"})," ","₹",s.jobId.rate]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold border-b pb-2",children:"Additional Details"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-base text-gray-800 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Budget:"})," ","₹",s.amount]}),e.jsxs("p",{className:"text-base text-gray-800 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Created At:"})," ",ee(s.createdAt).format("DD MMM YYYY")]})]}),e.jsxs("div",{className:"flex gap-4 mt-4 md:mt-0",children:[!s.escrowPaid&&e.jsxs(te,{open:h,onOpenChange:i,children:[e.jsx(ye,{asChild:!0,children:e.jsx(g,{className:`border border-[#DC2626] text-[#DC2626] bg-transparent 
                                                hover:bg-[#DC262611] hover:text-[#DC2626] 
                                                dark:border-[#FF5252] dark:text-[#ffffff] dark:hover:bg-[#FF525211] dark:hover:text-[#FF5252] py-2 px-4 rounded transition duration-200`,onClick:()=>i(!0),children:"Reject"})}),e.jsxs(ae,{className:"sm:max-w-md",children:[e.jsxs(re,{children:[e.jsx(le,{children:"Reject Contract?"}),e.jsx(ne,{children:"Are you sure you want to reject this contract? This action cannot be undone."})]}),e.jsxs(ce,{className:"flex justify-end gap-3",children:[e.jsx(g,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(g,{variant:"destructive",onClick:()=>{O(),i(!1)},children:"Yes, Reject"})]})]})]}),e.jsxs(te,{open:m,onOpenChange:c,children:[e.jsx(ye,{asChild:!0,children:e.jsx(g,{className:`border ${j?"border-gray-400 text-gray-400 cursor-not-allowed":"border-[#0077B6] text-[#0077B6] hover:bg-[#0077B611] hover:text-[#0077B6]"} bg-transparent dark:border-[#00FFE5] dark:text-[#ffffff] dark:hover:bg-[#00FFE511] dark:hover:text-[#00FFE5] py-2 px-4 rounded transition duration-200`,onClick:f=>{if(j){f.preventDefault();return}c(!0)},disabled:j,children:j?"Accepted":"Accept"})}),e.jsxs(ae,{className:"max-w-[90%] sm:max-w-md rounded-lg p-6",children:[e.jsxs(re,{children:[e.jsx(le,{children:"Are you sure you want to accept this contract?"}),e.jsx(ne,{children:"This will notify the client and begin the contract officially."})]}),e.jsxs(ce,{className:"flex justify-end gap-3",children:[e.jsx(g,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(g,{onClick:A,children:"Yes, Accept"})]})]})]})]})]})]}),s.escrowPaid&&s.status!=="Canceled"&&e.jsxs("div",{className:"space-y-4 mt-8 pt-4",children:[e.jsx("h2",{className:"text-lg font-semibold border-b pb-2",children:"Update Work Status"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("p",{className:"text-base text-gray-800 dark:text-gray-400",children:e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Current Status:"})}),e.jsxs(ie,{value:y,onValueChange:f=>q(f),disabled:S,children:[e.jsx(de,{className:"w-[200px]",children:e.jsx(oe,{placeholder:"Select Status"})}),e.jsxs(xe,{children:[e.jsx(W,{value:"Pending",children:"Pending"}),e.jsx(W,{value:"Started",children:"Started"}),e.jsx(W,{value:"Ongoing",children:"Ongoing"}),e.jsx(W,{value:"Completed",children:"Completed"})]})]})]}),e.jsx(es,{workStatus:y,statusHistory:s.statusHistory})]}),s.canceledBy==="Client"&&e.jsxs("div",{className:"rounded-lg p-6 bg-gray-100 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 shadow-sm mt-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ss,{className:"text-red-600 w-6 h-6"}),e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Contract Canceled"})]}),e.jsxs("div",{className:"mt-3 space-y-2 text-gray-800 dark:text-gray-300",children:[e.jsxs("p",{className:"text-base text-gray-800 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Canceled By:"})," ",s.canceledBy]}),e.jsx(Fe,{type:"single",collapsible:!0,children:e.jsxs(X,{value:"cancel-info",children:[e.jsx(Q,{className:"text-gray-800 dark:text-gray-200",children:"View Info"}),e.jsxs(Z,{className:"text-gray-700 dark:text-gray-400",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Reason:"})," ",s.cancelReason]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Details:"})," ",s.cancelReasonDescription]})]})]})})]})]})]})]})})},zs=()=>{const{clientId:r}=Ie(),[s,b]=n.useState(null),[x,u]=n.useState([]),[j,t]=n.useState(5),[y,v]=n.useState(!0),[S,N]=n.useState(0),[m,c]=n.useState(null);return n.useEffect(()=>{(async()=>{if(r)try{const i=await ls(r);b(i.data)}catch(i){console.log("Error fetching client profile",i)}})()},[r]),n.useEffect(()=>{(async()=>{if(r)try{const i=await ns(r);N(i.jobs.length);const k=(i.jobs||[]).sort((o,I)=>new Date(I.createdAt).getTime()-new Date(o.createdAt).getTime());u(k)}catch(i){console.log(i)}finally{v(!1)}})()},[r]),e.jsxs("div",{className:"min-h-screen dark:bg-gray-950 flex justify-center p-6",children:[e.jsx(as,{}),e.jsxs("div",{className:"w-full max-w-6xl bg-white dark:bg-gray-950 rounded-xl border border-gray-300 dark:border-gray-800 p-8 mt-16 flex flex-col md:flex-row",children:[e.jsxs("div",{className:"w-full md:w-1/3 border-b md:border-b-0 md:border-r border-gray-300 dark:border-gray-800 p-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"relative group",children:e.jsx("img",{src:(s==null?void 0:s.profilePic)||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:"Profile",className:"w-28 h-28 rounded-full border border-gray-300 dark:border-gray-700 object-cover"})}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-3xl font-bold text-black dark:bg-gradient-to-r dark:from-emerald-400 dark:to-cyan-400 dark:bg-clip-text dark:text-transparent",children:s==null?void 0:s.firstName}),e.jsx(rs,{className:"w-5 h-5 mt-1 text-blue-600"})]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 flex items-center justify-center gap-1 mt-2",children:[e.jsx(_e,{className:"text-xl"})," ",s==null?void 0:s.city]})]})]}),e.jsx("div",{className:"w-full md:w-2/3 p-6",children:e.jsxs("div",{className:"space-y-7 text-black dark:text-white",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold font-sans",children:"Email"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s==null?void 0:s.userId.email})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold font-sans",children:"State"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:(s==null?void 0:s.state)||"No state provided"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold font-sans",children:"Works Posted"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:S})]})]})})]}),y?e.jsx("div",{className:"space-y-4 mt-10 w-full max-w-full px-0 sm:px-4",children:Array.from({length:3}).map((h,i)=>e.jsxs("div",{className:"border border-gray-300 dark:border-gray-700 p-3 sm:p-4 rounded-xl mb-4",children:[e.jsx(K,{className:"h-5 w-1/3 mb-2"}),e.jsx(K,{className:"h-4 w-2/3 mb-1"}),e.jsx(K,{className:"h-4 w-full mb-1"}),e.jsx(K,{className:"h-4 w-1/2"})]},i))}):e.jsxs("div",{className:"mt-10 w-10/12 px-0 sm:px-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-black dark:text-white",children:"Posted Works"}),x.slice(0,j).map(h=>e.jsxs("div",{className:"border border-gray-300 dark:border-gray-700 p-3 sm:p-4 rounded-xl mb-4 w-full overflow-hidden",children:[e.jsx("h4",{className:"text-base font-semibold text-black dark:text-white",children:h.title}),e.jsxs("p",{className:"text-gray-600 text-sm dark:text-gray-400 mb-1",children:[e.jsx("span",{className:"font-semibold text-sm",children:"Category:"})," ",h.category.name]}),e.jsxs("p",{className:"text-gray-600 text-sm dark:text-gray-400 mb-1",children:[e.jsx("span",{className:"font-semibold",children:"Description:"})," ",m===h._id?h.description:`${h.description.slice(0,20)}${h.description.length>20?"...":""}`,h.description.length>20&&e.jsx("button",{onClick:()=>c(m===h._id?null:h._id),className:"text-blue-600 ml-2 underline text-xs",children:m===h._id?"View less":"View more"})]}),e.jsxs("p",{className:"text-gray-600 text-sm dark:text-gray-400 mb-1",children:[e.jsx("span",{className:"font-semibold",children:"Posted on:"})," ",ee(h.createdAt).format("MMM D, YYYY h:mm A")]})]},h._id)),x.length>j&&e.jsxs("p",{onClick:()=>t(h=>h+5),className:`mt-4 text-blue-950 px-4 py-2 flex items-center gap-2
                                        dark:bg-transparent dark:text-[#00FFE5] self-center cursor-pointer`,children:["View More",e.jsx(Y,{className:"w-4 h-4"})]})]})]})]})},Us=is(void 0),st=()=>{const r=Se(),b=["/freelancer/messages"].includes(r.pathname);return e.jsxs("div",{children:[e.jsx(Os,{}),e.jsxs(Me,{children:[e.jsx(E,{path:"home",element:e.jsx(_,{requiredRole:"freelancer",children:e.jsx(Bs,{})})}),e.jsx(E,{path:"profile",element:e.jsx(_,{requiredRole:"freelancer",children:e.jsx(Ws,{})})}),e.jsx(E,{path:"jobs",element:e.jsx(_,{requiredRole:"freelancer",children:e.jsx(Vs,{})})}),e.jsx(E,{path:"job/view-job/:id",element:e.jsx(_,{requiredRole:"freelancer",children:e.jsx(cs,{stripe:Us,children:e.jsx(ds,{})})})}),e.jsx(E,{path:"/job/view-client/:clientId",element:e.jsx(_,{requiredRole:"freelancer",children:e.jsx(zs,{})})}),e.jsx(E,{path:"jobs/applied-jobs",element:e.jsx(_,{requiredRole:"freelancer",children:e.jsx(qs,{})})}),e.jsx(E,{path:"contracts",element:e.jsx(_,{requiredRole:"freelancer",children:e.jsx($s,{})})}),e.jsx(E,{path:"contract/:id",element:e.jsx(_,{requiredRole:"freelancer",children:e.jsx(Ys,{})})}),e.jsx(E,{path:"profile-settings",element:e.jsx(_,{requiredRole:"freelancer",children:e.jsx(os,{})})}),e.jsx(E,{path:"messages",element:e.jsx(_,{requiredRole:"freelancer",children:e.jsx(xs,{})})}),e.jsx(E,{path:"earnings",element:e.jsx(_,{requiredRole:"freelancer",children:e.jsx(ms,{})})}),e.jsx(E,{path:"*",element:e.jsx(vs,{})})]}),!b&&e.jsx(Ds,{})]})};export{st as default};
